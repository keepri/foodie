(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[476],{1218:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurant/[uid]",function(){return r(6791)}])},8987:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(5893),a=r(7294),o=r(7413),i=r(5675),c=r(6058),s=r.n(c);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var d=function(e){var t=e.children,r=e.className,c=e.title,d=e.titleDescription,f=e.body,m=e.setModal,p=e.onModalClose,b=l(e,["children","className","title","titleDescription","body","setModal","onModalClose"]),h=a.useCallback((function(){return m(!1)}),[]);return function(e){a.useEffect((function(){return document.onkeyup=o.S_?function(t){return"Escape"===t.code&&(e(),console.log(t.code))}:null,function(){document.onkeyup=null}}),[])}(h),a.useEffect((function(){return function(){p&&p()}}),[p]),(0,n.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}({onMouseUp:function(){return h()},className:[s().modal,r].join(" ")},b,{children:(0,n.jsxs)("div",{onMouseUp:function(e){return e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},className:s()["modal-content"],children:[(0,n.jsxs)("header",{className:s()["modal-header"],children:[c&&(0,n.jsxs)("div",{className:s().title,children:[d&&(0,n.jsx)("p",{children:d}),(0,n.jsx)("h1",{children:c})]}),(0,n.jsx)(i.default,{src:"/images/icons/close.png",width:20,height:20,objectFit:"contain",alt:"close",onMouseUp:function(){return h()}})]}),(t||f)&&(0,n.jsxs)("section",{className:s()["modal-body"],children:[f&&(0,n.jsx)("p",{children:f}),t]})]})}))}},6791:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return V},default:function(){return Q}});var n=r(5893),a=r(7294),o=r(1163),i=r(6243),c=r(3400),s=r.n(c),u=r(4051),l=r.n(u),d=r(5675),f=r(7101),m=r.n(f),p=r(7413),b=r(1043),h=r(5710),y=r(5321),v=r(2662);function j(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void r(u)}c.done?t(s):Promise.resolve(s).then(n,a)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){j(o,n,a,i,c,"next",e)}function c(e){j(o,n,a,i,c,"throw",e)}i(void 0)}))}}var _=function(){var e=g(l().mark((function e(t,r){var n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,y.JU)(v.Q6,"".concat(t,"/").concat(r)),e.prev=1,e.next=4,(0,y.QT)(n);case 4:if((a=e.sent).exists()){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",a.data());case 10:throw e.prev=10,e.t0=e.catch(1),console.warn("firebase function failed with:",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}(),x=function(){var e=g(l().mark((function e(t,r){var n,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,_(h.Ul.MENUS,"".concat(t));case 5:if(n=e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:return a=n.categories.reduce((function(e,t){var n=t.items.find((function(e){return e.uid===r}));return n&&(e=n),e}),{}),o=a.status===h.zO.AVAILABLE,e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(2),console.warn("firestore get menu item status failed with:",e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}();function O(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void r(u)}c.done?t(s):Promise.resolve(s).then(n,a)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var P=function(e){var t=e.className,r=e.item,o=(e.index,e.onItemNotAv),c=N(e,["className","item","index","onItemNotAv"]),s=(0,b.v9)((function(e){return{app:e.app,cart:e.cart}})),u=s.app,f=u.currency,y=u.selectedRestaurant,v=s.cart,j=v.items,g=v.restaurant,_=(0,i.gV)(),P=_.addItemCart,S=_.resetCart,k=_.setRestaurantUidCart,I=a.useMemo((function(){return{uid:r.uid,status:r.status,photo:r.photo,name:r.name,description:r.description,price:r.price}}),[r.uid,r.status,r.photo,r.name,r.description,r.price]),E=I.uid,A=I.status,M=I.photo,C=I.name,U=I.description,L=I.price,R=(null===y||void 0===y?void 0:y.status)===h.AX.OPEN,z=A===h.zO.UNAVAILABLE,D=a.useMemo((function(){return j.some((function(e){return e.uid===E}))}),[j,E]),F=a.useCallback(function(){var e,t=(e=l().mark((function e(t){var n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!D&&R&&!z){e.next=3;break}return e.abrupt("return");case 3:return e.next=6,x(null!==(n=null===y||void 0===y?void 0:y.uid)&&void 0!==n?n:"",r.uid);case 6:if(e.sent){e.next=11;break}return r.status=h.zO.UNAVAILABLE,o&&o(),e.abrupt("return");case 11:if((null===y||void 0===y?void 0:y.uid)===g){e.next=16;break}return console.log("Tried adding item from another restaurant"),confirm("You have items inside your cart that are from another restaurant. Do you wish to reset the cart and add the new item?")&&(S(),k(null!==(a=null===y||void 0===y?void 0:y.uid)&&void 0!==a?a:""),P(r,1)),e.abrupt("return");case 16:P(r,1);case 17:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){O(o,n,a,i,c,"next",e)}function c(e){O(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[r,D,z,R,g,null===y||void 0===y?void 0:y.uid,o]);return(0,n.jsxs)("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}({className:[m()["item-card"],D&&m()["item-card-in-cart"],t].join(" "),onMouseUp:function(e){return F(e)}},c,{children:[(0,n.jsx)("div",{className:m()["item-card-photo"],children:(0,n.jsx)(d.default,{layout:"fill",objectFit:"cover",objectPosition:"center",src:M&&""!==M?M:p.IX,alt:"menu-item-photo"})}),(0,n.jsxs)("div",{style:{borderColor:z?"rgba(255, 0, 0, .2)":"rgb(219, 219, 219)"},className:m()["item-card-body"],children:[(0,n.jsxs)("h3",{className:m()["item-card-body-name"],children:[C,D&&(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)(d.default,{src:"/images/icons/checked.svg",alt:"added",width:15,height:15})]})]}),(0,n.jsx)("p",{style:{maxWidth:"18rem"},className:m()["item-card-body-description"],children:U}),(0,n.jsxs)("div",{style:{display:"flex",marginTop:"auto",gap:"1rem",justifyContent:"space-between"},className:m()["item-card-body-bottom-container"],children:[(0,n.jsxs)("p",{className:m()["item-card-body-price"],style:{fontWeight:"bold"},children:[L," ",f]}),!D&&R&&!z&&(0,n.jsx)(d.default,{width:15,height:15,src:"/images/icons/plus.svg",alt:"add",onMouseUp:function(e){return F(e)}})]})]})]}))},S=r(8987),k=r(2242);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(s){c=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=function(e){var t=e.className,r=e.menu,o=A(e,["className","menu"]),i=(0,k.V)(),c=r.categories,u=M(a.useState(!1),2),l=u[0],d=u[1],f=a.useCallback((function(){d(!0)}),[]);return(0,n.jsxs)("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){E(e,t,r[t])}))}return e}({className:[s().menu,t].join(" ")},o,{children:[c.map((function(e,t){var r=e.name,a=e.items;return(0,n.jsxs)("div",{className:s()["menu-category"],children:[(0,n.jsx)("h2",{style:{marginBottom:"2rem",marginTop:"4rem"},children:r}),(0,n.jsx)("div",{className:s()["menu-category-items"],children:a.map((function(e,t){return(0,n.jsx)(P,{index:t,item:e,onItemNotAv:f},"category_".concat(r,"_item_").concat(t))}))})]},"category_".concat(t))})),l&&(0,n.jsx)(S.Z,{title:i.itemNotAvTitle,body:i.itemNotAvBody,setModal:d})]}))},U=r(4011),L=r.n(U),R=r(9083),z=r.n(R);function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var T=function(e){var t=e.className,r=e.boldLabel,a=e.boldInfo,o=e.label,i=e.info,c=e.type,s=F(e,["className","boldLabel","boldInfo","label","info","type"]),u="horizontal"===c;return o=o?u?o+": ":o+":":void 0,(0,n.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){D(e,t,r[t])}))}return e}({style:{flexDirection:u?"row":"column"},className:[z().pill,t].join(" ")},s,{children:o?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("small",{children:r?(0,n.jsx)("strong",{children:o}):o}),(0,n.jsx)("small",{children:a?(0,n.jsx)("strong",{children:i}):i})]}):a?(0,n.jsx)("small",{children:(0,n.jsx)("strong",{children:i})}):(0,n.jsx)("small",{children:i})}))};function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var B=function(e){var t=e.className,r=e.restaurant,a=H(e,["className","restaurant"]),o=(0,k.V)(),i=(0,b.v9)((function(e){return{app:e.app}})).app.currency,c=r.status,s=r.name,u=r.addresses,l=r.costs,f=r.photo,m=r.logo,p=r.description,y=u[0],v=y.county,j=y.city,g=y.street,_=y.number,x=l.packaging,O=l.delivery,w=l.minOrder,N=0===O?o.free:O+" ".concat(i),P=c===h.AX.OPEN,S=c===h.AX.CLOSED;return(0,n.jsxs)("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){X(e,t,r[t])}))}return e}({className:[L()["restaurant-header"],!P&&L()["restaurant-header-closed"],t].join(" ")},a,{children:[!P&&(0,n.jsx)("p",{className:L()["restaurant-header-closed-text"],children:S?o.closed:o.unavailable}),(0,n.jsx)(d.default,{objectFit:"cover",objectPosition:"center",width:1440,height:400,src:f,alt:"restaurant photo"}),(0,n.jsxs)("div",{className:L()["restaurant-header-content"],children:[(0,n.jsx)(d.default,{width:60,height:60,src:m,objectFit:"contain",objectPosition:"center",alt:"restaurant photo"}),(0,n.jsx)("h1",{children:s}),p&&(0,n.jsx)("p",{className:L()["restaurant-header-description"],children:p}),(0,n.jsxs)("p",{className:L()["restaurant-header-address"],children:[v,", ",j,","," ",(0,n.jsxs)("strong",{children:[g," ",_]})]}),(0,n.jsxs)("div",{className:L()["restaurant-header-info"],children:[(0,n.jsx)(T,{boldInfo:!0,type:"horizontal",label:o.minOrder,info:"".concat(w," ").concat(i)}),(0,n.jsx)(T,{boldInfo:!0,type:"horizontal",label:o.delivery,info:N}),x&&0!==x&&(0,n.jsx)(T,{boldInfo:!0,type:"horizontal",label:o.packaging,info:"".concat(x," ").concat(i)})]})]})]}))},V=!0,Q=function(e){var t=e.restaurant,r=e.menu,c=(0,o.useRouter)().isFallback,s=(0,b.v9)((function(e){return{cart:e.cart}})).cart,u=s.items,l=s.restaurant,d=(0,i.gV)().setRestaurantUidCart,f=(0,i.rO)().setSelectedRestaurantApp;return a.useEffect((function(){return c||(0===u.length&&l!==t.uid&&d(t.uid),f(t)),function(){f(null)}}),[t]),c?(0,n.jsx)("main",{className:"container",children:(0,n.jsx)("strong",{children:(0,n.jsx)("p",{children:"TEMP - Loading... - TEMP"})})}):(0,n.jsxs)("main",{className:"container",children:[(0,n.jsx)(B,{restaurant:t}),(0,n.jsx)(C,{menu:r})]})}},7101:function(e){e.exports={"item-card":"ItemCard_item-card__iKet2","item-card-body":"ItemCard_item-card-body__8Ml1H","item-card-photo":"ItemCard_item-card-photo__9fiz4","item-card-body-name":"ItemCard_item-card-body-name__vQ2Pf","item-card-body-description":"ItemCard_item-card-body-description__yIbYy","item-card-body-price":"ItemCard_item-card-body-price__MMaXt","item-card-body-bottom-container":"ItemCard_item-card-body-bottom-container__AZr_S","item-card-in-cart":"ItemCard_item-card-in-cart__B__8w"}},4011:function(e){e.exports={"restaurant-header":"RestaurantHeader_restaurant-header__ozY_S","restaurant-header-address":"RestaurantHeader_restaurant-header-address__JXAFK","restaurant-header-description":"RestaurantHeader_restaurant-header-description__dz_LX","restaurant-header-info":"RestaurantHeader_restaurant-header-info__eeIQl","restaurant-header-content":"RestaurantHeader_restaurant-header-content__8pjqk","restaurant-header-closed":"RestaurantHeader_restaurant-header-closed__dUkCG","restaurant-header-closed-text":"RestaurantHeader_restaurant-header-closed-text__sjbBb"}},6058:function(e){e.exports={modal:"Modal_modal__77o1K","modal-content":"Modal_modal-content___6lVF","modal-header":"Modal_modal-header__CUQlY",title:"Modal_title____nhr","modal-body":"Modal_modal-body__DSFB2"}},9083:function(e){e.exports={pill:"Pill_pill__lrz9o"}},3400:function(e){e.exports={"menu-category":"Menu_menu-category__IvLHX","menu-category-items":"Menu_menu-category-items__th3N_"}}},function(e){e.O(0,[774,888,179],(function(){return t=1218,e(e.s=t);var t}));var t=e.O();_N_E=t}]);